# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞: –ë–ª–æ–∫—á–µ–π–Ω —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π PoS –∏ BFT

## –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –±–ª–æ–∫—á–µ–π–Ω —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥–≤—É—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞:
- **PoS (Proof-of-Stake)** ‚Äî –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ –¥–æ–ª–∏
- **BFT (Byzantine Fault Tolerance)** ‚Äî —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç—å –∫ –≤–∏–∑–∞–Ω—Ç–∏–π—Å–∫–∏–º —Å–±–æ—è–º

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π:
1. **/blockchain** ‚Äî —Å–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –±–ª–æ–∫—á–µ–π–Ω–∞
2. **/client** ‚Äî –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–ª–æ–∫—á–µ–π–Ω–æ–º —á–µ—Ä–µ–∑ REST API –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è:
- –ú–æ–¥—É–ª–∏ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∏ –ø–æ–¥–ø–∏—Å–∏
- –°–µ—Ç–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏
- –•—Ä–∞–Ω–∏–ª–∏—â–µ –±–ª–æ–∫—á–µ–π–Ω–∞ –∏ –ø—É–ª–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –ú–µ—Ö–∞–Ω–∏–∑–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ì–æ–≤–µ—Ä–Ω–∞–Ω—Å –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏
- REST API –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
blockchain/
‚îú‚îÄ‚îÄ consensus/         # –ú–æ–¥—É–ª—å –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ manager/         # –ú–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ pos/             # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è PoS
‚îÇ   ‚îî‚îÄ‚îÄ bft/             # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è BFT
‚îú‚îÄ‚îÄ crypto/            # –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ signature/       # –ü–æ–¥–ø–∏—Å–∏ –∏ –∫–ª—é—á–∏
‚îú‚îÄ‚îÄ network/           # –°–µ—Ç–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ gossip/          # –ü—Ä–æ—Ç–æ–∫–æ–ª —Ä–∞—Å—Å—ã–ª–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ peer/            # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∏—Ä–∏–Ω–≥–æ–º
‚îÇ   ‚îî‚îÄ‚îÄ p2p/             # P2P-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
‚îú‚îÄ‚îÄ storage/           # –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ blockchain/      # –ë–ª–æ–∫—á–µ–π–Ω
‚îÇ   ‚îî‚îÄ‚îÄ txpool/          # –ü—É–ª —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
‚îú‚îÄ‚îÄ security/          # –ú–µ—Ö–∞–Ω–∏–∑–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ audit/           # –ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ double_spend/    # –ó–∞—â–∏—Ç–∞ –æ—Ç –¥–≤–æ–π–Ω–æ–π —Ç—Ä–∞—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ fiftyone/        # –ó–∞—â–∏—Ç–∞ –æ—Ç 51% –∞—Ç–∞–∫
‚îÇ   ‚îî‚îÄ‚îÄ sybil/           # –ó–∞—â–∏—Ç–∞ –æ—Ç Sybil-–∞—Ç–∞–∫
‚îú‚îÄ‚îÄ governance/        # –ì–æ–≤–µ—Ä–Ω–∞–Ω—Å
‚îÇ   ‚îú‚îÄ‚îÄ reputation/      # –†–µ–ø—É—Ç–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
‚îÇ   ‚îî‚îÄ‚îÄ upgrade/         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏
‚îú‚îÄ‚îÄ integration/       # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ api/             # REST API
‚îî‚îÄ‚îÄ main.go            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞

client/
‚îú‚îÄ‚îÄ main.go              # –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å
‚îî‚îÄ‚îÄ index.html           # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
```

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏

### 1. –ú–æ–¥—É–ª—å –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞

#### 1.1 –ú–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞ (`consensus/manager/switcher.go`)
- –†–µ–∞–ª–∏–∑—É–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏ PoS –∏ BFT

#### 1.2 –†–µ–∞–ª–∏–∑–∞—Ü–∏—è PoS (`consensus/pos/`)
- **stake.go** ‚Äî –º–æ–¥–µ–ª—å —Å—Ç–∞–≤–æ–∫
- **validator.go** ‚Äî –º–æ–¥–µ–ª—å –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞
- **election.go** ‚Äî –≤—ã–±–æ—Ä –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç–µ–π–∫–∞ –∏ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏

#### 1.3 –†–µ–∞–ª–∏–∑–∞—Ü–∏—è BFT (`consensus/bft/`)
- **tendermint.go** ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞ Tendermint
- **round.go** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞—É–Ω–¥–∞ –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞
- **message.go** ‚Äî —Ç–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π BFT
- **handler.go** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π BFT
- **tcp.go** ‚Äî TCP-—Å–µ—Ä–≤–µ—Ä –¥–ª—è BFT-–Ω–æ–¥
- **node.go** ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ —É–∑–ª–∞

### 2. –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

- **crypto/signature/** ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–µ–π –∏ –∫–ª—é—á–µ–π
  - **ecdsa.go** ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ECDSA –ø–æ–¥–ø–∏—Å–µ–π
  - **signer.go** ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—â–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞
  - **keys.go** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –ø—É–±–ª–∏—á–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏
  - **registry.go** ‚Äî —Ä–µ–µ—Å—Ç—Ä –ø—É–±–ª–∏—á–Ω—ã—Ö –∫–ª—é—á–µ–π
  - **sign.go** ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–∏
  - **verify.go** ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏

### 3. –°–µ—Ç–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 3.1 –ü—Ä–æ—Ç–æ–∫–æ–ª —Ä–∞—Å—Å—ã–ª–∫–∏
- **network/gossip/gossip.go** ‚Äî –±–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª —Ä–∞—Å—Å—ã–ª–∫–∏
- **network/gossip/message.go** ‚Äî —Ç–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π
- **network/gossip/consensus.go** ‚Äî —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞

#### 3.2 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∏—Ä–∏–Ω–≥–æ–º
- **network/peer/peer.go** ‚Äî –º–æ–¥–µ–ª—å —É–∑–ª–∞
- **network/peer/manager.go** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∏—Ä–∏–Ω–≥–æ–º
- **network/peer/discovery.go** ‚Äî –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–∏—Ä–æ–≤
- **network/ping/pong.go** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏

#### 3.3 P2P-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- **network/p2p/handshake.go** ‚Äî —Ä—É–∫–æ–ø–æ–∂–∞—Ç–∏–µ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏
- **network/p2p/crypto.go** ‚Äî TLS-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### 4. –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö

#### 4.1 –ë–ª–æ–∫—á–µ–π–Ω
- **storage/blockchain/chain.go** ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–ª–æ–∫—á–µ–π–Ω–∞
- **storage/blockchain/block.go** ‚Äî –º–æ–¥–µ–ª—å –±–ª–æ–∫–∞

#### 4.2 –ü—É–ª —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- **storage/txpool/transaction.go** ‚Äî –º–æ–¥–µ–ª—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- **storage/txpool/pool.go** ‚Äî –ø—É–ª —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- **storage/txpool/utils.go** ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 5. –ú–µ—Ö–∞–Ω–∏–∑–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

#### 5.1 –ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **security/audit/logger.go** ‚Äî –ª–æ–≥–≥–µ—Ä —Å–æ–±—ã—Ç–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **security/audit/auditor.go** ‚Äî –∞—É–¥–∏—Ç–æ—Ä –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

#### 5.2 –ó–∞—â–∏—Ç–∞ –æ—Ç –¥–≤–æ–π–Ω–æ–π —Ç—Ä–∞—Ç—ã
- **security/double_spend/guard.go** ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –¥–≤–æ–π–Ω–æ–π —Ç—Ä–∞—Ç—ã
- **security/double_spend/cache.go** ‚Äî –∫—ç—à —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

#### 5.3 –ó–∞—â–∏—Ç–∞ –æ—Ç 51% –∞—Ç–∞–∫
- **security/fiftyone/guard.go** ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç 51% –∞—Ç–∞–∫
- **security/fiftyone/monitor.go** ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∏—Å–∫–∞ –∞—Ç–∞–∫

#### 5.4 –ó–∞—â–∏—Ç–∞ –æ—Ç Sybil-–∞—Ç–∞–∫
- **security/sybil/guard.go** ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç Sybil-–∞—Ç–∞–∫

### 6. –ì–æ–≤–µ—Ä–Ω–∞–Ω—Å

#### 6.1 –†–µ–ø—É—Ç–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- **governance/reputation/reputation.go** ‚Äî —Ä–µ–ø—É—Ç–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- **governance/reputation/scorer.go** ‚Äî —Ä–∞—Å—á–µ—Ç —Ä–µ–ø—É—Ç–∞—Ü–∏–æ–Ω–Ω—ã—Ö –æ—Ü–µ–Ω–æ–∫
- **governance/reputation/validator_selector.go** ‚Äî –≤—ã–±–æ—Ä –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞

#### 6.2 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏
- **governance/upgrade/manager.go** ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- **governance/upgrade/strategy.go** ‚Äî —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 7. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **integration/api/rest.go** ‚Äî REST API –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–ª–æ–∫—á–µ–π–Ω–æ–º
- **integration/api/rpc.go** ‚Äî RPC-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### 8. –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞

- **main.go** ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

## REST API –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã

REST API –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:

### 1. **GET /blocks**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –±–ª–æ–∫–æ–≤ –∏–∑ –±–ª–æ–∫—á–µ–π–Ω–∞
- **–ó–∞–ø—Ä–æ—Å**: –ù–µ—Ç
- **–û—Ç–≤–µ—Ç**:
  ```json
  [
    {
      "Index": 1,
      "Timestamp": 1718262000,
      "Data": "Genesis Block",
      "PrevHash": "",
      "Hash": "abc123...",
      "Validator": "validator1"
    }
  ]
  ```

### 2. **POST /transactions**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ –ø—É–ª
- **–ó–∞–ø—Ä–æ—Å**:
  ```json
  {
    "ID": "tx1",
    "From": "addr1",
    "To": "addr2",
    "Amount": 100,
    "Timestamp": 1718262000,
    "Signature": "signature",
    "IsPrivate": false
  }
  ```
- **–û—Ç–≤–µ—Ç**:
  ```json
  {
    "status": "success",
    "message": "Transaction added to pool"
  }
  ```

### 3. **GET /transactions**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏–∑ –ø—É–ª–∞
- **–ó–∞–ø—Ä–æ—Å**: –ù–µ—Ç
- **–û—Ç–≤–µ—Ç**:
  ```json
  [
    {
      "ID": "tx1",
      "From": "addr1",
      "To": "addr2",
      "Amount": 100,
      "Timestamp": 1718262000,
      "Signature": "signature",
      "IsPrivate": false
    }
  ]
  ```

### 4. **POST /register**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ –¥–ª—è –∞–¥—Ä–µ—Å–∞
- **–ó–∞–ø—Ä–æ—Å**:
  ```json
  {
    "address": "addr1",
    "pubKey": "pubkey_hex"
  }
  ```
- **–û—Ç–≤–µ—Ç**:
  ```json
  {
    "status": "success",
    "message": "Public key registered"
  }
  ```

### 5. **GET /audit**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **–ó–∞–ø—Ä–æ—Å**: –ù–µ—Ç
- **–û—Ç–≤–µ—Ç**:
  ```json
  [
    {
      "Timestamp": 1718262000,
      "Event": "Double spend attempt detected",
      "Details": "Transaction ID: tx1"
    }
  ]
  ```

---

## –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å: `/client`

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:

**`main.go`** ‚Äî —Ä–µ–∞–ª–∏–∑—É–µ—Ç:
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—é ECDSA-–∫–ª—é—á–µ–π
- –ü–æ–¥–ø–∏—Å—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –û—Ç–ø—Ä–∞–≤–∫—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –ø—É–±–ª–∏—á–Ω—ã—Ö –∫–ª—é—á–µ–π
- –ü—Ä–æ—Å—Ç–æ–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

**`index.html`** ‚Äî –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

---

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### 1. **–û–ø–∏—Å–∞–Ω–∏–µ**
–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞–Ω–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —á–µ—Ä–µ–∑ REST API. –û–Ω —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ —á–∏—Å—Ç–æ–º HTML/JS –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤.

### 2. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**

#### 2.1. –§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- **–ü–æ–ª—è —Ñ–æ—Ä–º—ã**:
  - **From**: –ê–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è (—Å—Ç—Ä–æ–∫–∞)
  - **To**: –ê–¥—Ä–µ—Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è (—Å—Ç—Ä–æ–∫–∞)
  - **Amount**: –°—É–º–º–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ (—á–∏—Å–ª–æ)
  - **IsPrivate**: –§–ª–∞–≥ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (true/false)

#### 2.2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π
- –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –Ω–æ–≤—ã–µ ECDSA-–∫–ª—é—á–∏:
  - –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (hex)
  - –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á (hex, –Ω–µ—Å–∂–∞—Ç—ã–π —Ñ–æ—Ä–º–∞—Ç)

#### 2.3. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞
- –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —á–µ—Ä–µ–∑ `/register`

#### 2.4. –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è ID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –ó–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ–ª—è From, To, Amount, Timestamp
- –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞

#### 2.5. –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –ü–æ–¥–ø–∏—Å–∞–Ω–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ `/transactions`

#### 2.6. –û—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
- –ù–∞ —ç–∫—Ä–∞–Ω –≤—ã–≤–æ–¥–∏—Ç—Å—è —Å—Ç–∞—Ç—É—Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:
  - –£—Å–ø–µ—Ö: ‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞
  - –û—à–∏–±–∫–∞: ‚ùå –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Go** ‚Äî —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **BadgerDB** ‚Äî –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è NoSQL –ë–î –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –±–ª–æ–∫—á–µ–π–Ω–∞
- **TLS** ‚Äî —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞
- **ECDSA** ‚Äî –∞–ª–≥–æ—Ä–∏—Ç–º —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–æ–¥–ø–∏—Å–∏
- **SHA-256** ‚Äî —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **Gob/JSON** ‚Äî —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

---

## –ó–∞–ø—É—Å–∫ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

–î–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **TLS (mTLS)** –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å **—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã** –¥–ª—è –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤ –∏ —Ü–µ–Ω—Ç—Ä–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (CA). –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:

```
/blockchain/certs
```

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `certs/` –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
```
certs/
‚îú‚îÄ‚îÄ ca.crt                      # –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Ü–µ–Ω—Ç—Ä–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (CA)
‚îú‚îÄ‚îÄ ca.key                      # –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á CA
‚îú‚îÄ‚îÄ validator1.crt              # –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ 1
‚îú‚îÄ‚îÄ validator1.key              # –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ 1
‚îú‚îÄ‚îÄ validator2.crt              # –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ 2
‚îú‚îÄ‚îÄ validator2.key              # –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ 2
‚îú‚îÄ‚îÄ validator3.crt              # –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ 3
‚îú‚îÄ‚îÄ validator3.key              # –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ 3
‚îú‚îÄ‚îÄ validator4.crt              # –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ 4
‚îú‚îÄ‚îÄ validator4.key              # –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ 4
‚îú‚îÄ‚îÄ validator5.crt              # –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ 5
‚îî‚îÄ‚îÄ validator5.key              # –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ 5
```

---

### üõ†Ô∏è –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –º–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é —Å–∫—Ä–∏–ø—Ç–∞ `generate-validator-certs.sh`.

#### üîß –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```bash
cd blockchain
chmod +x generate-validator-certs.sh
./generate-validator-certs.sh
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- —Å–æ–∑–¥–∞—ë—Ç **CA (–∫–æ—Ä–Ω–µ–≤–æ–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç)**,
- —Å–æ–∑–¥–∞—ë—Ç **5 –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤** (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä),
- –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **ECDSA (Elliptic Curve)** –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª—é—á–µ–π,
- –¥–æ–±–∞–≤–ª—è–µ—Ç **SAN (Subject Alternative Name)**: `localhost`, `127.0.0.1`, `mydomain.local`.

---

### 2. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `blockchain/certs`.

```bash
cd blockchain
go run main.go
```

- –°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `https://localhost:8081`
- TLS-–ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∏–∑ `blockchain/certs/server.crt`

---

### 3. –ó–∞–ø—É—Å–∫ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —á–∞—Å—Ç–∏
```bash
cd client
go run main.go
```
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8000`

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
1. –û—Ç–∫—Ä—ã—Ç—å `http://localhost:8000` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É:
   - From (–∞–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è)
   - To (–∞–¥—Ä–µ—Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è)
   - Amount (—Å—É–º–º–∞)
   - IsPrivate (true/false)
3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é

### 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ curl
```bash
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
curl -X POST http://localhost:8081/transactions \
     -H "Content-Type: application/json" \
     -d '{
           "ID": "tx1",
           "From": "addr1",
           "To": "addr2",
           "Amount": 100,
           "Timestamp": 1718262000,
           "Signature": "signature"
         }'

# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞
curl -X POST http://localhost:8081/register \
     -H "Content-Type: application/json" \
     -d '{
           "address": "addr1",
           "pubKey": "pubkey_hex"
         }'

# –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –±–ª–æ–∫–æ–≤
curl http://localhost:8081/blocks

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
curl http://localhost:8081/audit
```

---

